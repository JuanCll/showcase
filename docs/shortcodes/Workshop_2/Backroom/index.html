<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Workshop #2: 3d webgl application # Introducción # El modelamiento 3D es una herramienta que abre un mundo de posibilidades para representar el mundo real dentro del mundo digital. Inicialmente, los modelos en 2 dimensiones se utilizaban para diseñar todo tipo de invenciones, tales como: juegos, herramientas de desarrollo e incluso modelos de la vida real. Desde hace mucho tiempo, se utiliza el 2D y ha sido muy útil para los desarrolladores."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Workshop #2: 3d webgl application # Introducción # El modelamiento 3D es una herramienta que abre un mundo de posibilidades para representar el mundo real dentro del mundo digital. Inicialmente, los modelos en 2 dimensiones se utilizaban para diseñar todo tipo de invenciones, tales como: juegos, herramientas de desarrollo e incluso modelos de la vida real. Desde hace mucho tiempo, se utiliza el 2D y ha sido muy útil para los desarrolladores."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/shortcodes/Workshop_2/Backroom/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-10-19T09:32:38-05:00"><title>Backroom | Computación Visual</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.cb3baa049520f1d8b73e9994e02656eb30514491e3f37cee3e4372e7c7ee2bdd.js integrity="sha256-yzuqBJUg8di3PpmU4CZW6zBRRJHj83zuPkNy58fuK90=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Computación Visual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-37d133451a87125afc7e4d4a60cdb12b class=toggle>
<label for=section-37d133451a87125afc7e4d4a60cdb12b class="flex justify-between"><a role=button>Shaders</a></label><ul><li><a href=/showcase/docs/shortcodes/Shaders/Color_Blend/>Color Blend</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Lighting/>Lighting</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Photomosaic/>Photomosaic</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Procedural_texturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Spatial_Coherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/shortcodes/Shaders/Texturing/>Texturing</a></li></ul></li><li><input type=checkbox id=section-40370cffa0e58f63b3d83ad764ed10f8 class=toggle>
<label for=section-40370cffa0e58f63b3d83ad764ed10f8 class="flex justify-between"><a role=button>Workshop 1</a></label><ul><li><a href=/showcase/docs/shortcodes/Workshop_1/Ilusiones/>Ilusiones</a></li><li><a href=/showcase/docs/shortcodes/Workshop_1/Masking/>Masking</a></li></ul></li><li><input type=checkbox id=section-b0370d58c5138517cd7aed0c003453ef class=toggle checked>
<label for=section-b0370d58c5138517cd7aed0c003453ef class="flex justify-between"><a role=button>Workshop 2</a></label><ul><li><a href=/showcase/docs/shortcodes/Workshop_2/Backroom/ class=active>Backroom</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/Quienes_somos/>¿Quiénes somos?</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Backroom</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#workshop-2-3d-webgl-application><strong>Workshop #2: 3d webgl application</strong></a><ul><li><a href=#introducción><strong>Introducción</strong></a></li><li><a href=#marco-teórico><strong>Marco teórico</strong></a></li><li><a href=#método><strong>Método</strong></a><ul><li><a href=#movimiento-de-cámara><strong>Movimiento de cámara</strong></a></li><li><a href=#corrección-de-cámara>Corrección de cámara</a></li><li><a href=#movimiento-de-personaje><strong>Movimiento de &ldquo;personaje&rdquo;</strong></a></li><li><a href=#creación-de-ambiente><strong>Creación de ambiente</strong></a></li><li><a href=#columnas>Columnas</a></li><li><a href=#paredes>Paredes</a></li><li><a href=#techo-y-suelo>Techo y suelo</a></li><li><a href=#texturas>Texturas</a></li><li><a href=#colisiones><strong>Colisiones</strong></a></li></ul></li><li><a href=#resultados><strong>Resultados</strong></a><ul><li><a href=#aplicación-completa>Aplicación completa.</a></li></ul></li><li><a href=#discusión><strong>Discusión</strong></a></li><li><a href=#conclusiones><strong>Conclusiones</strong></a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=workshop-2-3d-webgl-application><strong>Workshop #2: 3d webgl application</strong>
<a class=anchor href=#workshop-2-3d-webgl-application>#</a></h1><h2 id=introducción><strong>Introducción</strong>
<a class=anchor href=#introducci%c3%b3n>#</a></h2><p>El modelamiento 3D es una herramienta que abre un mundo de posibilidades para representar el mundo real dentro del mundo digital. Inicialmente, los modelos en 2 dimensiones se utilizaban para diseñar todo tipo de invenciones, tales como: juegos, herramientas de desarrollo e incluso modelos de la vida real. Desde hace mucho tiempo, se utiliza el 2D y ha sido muy útil para los desarrolladores. Sin embargo, un mundo en 3 dimensiones es más semejante a la realidad, por lo que el modelamiento 3D desde hace ya varios años se ha convertido en una herramienta de representación de la realidad mucho más poderosa.</p><p>Para modelar y representar cosas o aspectos de nuestro entorno utilizamos aplicaciones gráficas. Estas, tanto en 2D como en 3D, abren muchas posibilidades de diseño e interacción con el mundo digital. Por esto, <strong>WebGl</strong> busca acercar aún más (tanto a <em>desarrolladores</em> como a los apasionados por el modelamiento y la <em>interacción gráfica</em>) a utilizar recursos básicos en nuestro entorno digital como un navegador y una librería de Javascript, y así empezar a diseñar aplicaciones gráficas interactivas en la Web e incursionar en el mundo del modelamiento digital.</p><p><img src=https://i.imgur.com/SKVtRzn.gif alt="3D Sphere"></p><h2 id=marco-teórico><strong>Marco teórico</strong>
<a class=anchor href=#marco-te%c3%b3rico>#</a></h2><p>Para el desarrollo del presenta taller, es necesario entender los conceptos que los envuelven. El primero de ellos es <a href=https://www.khronos.org/api/webgl>WebGL</a>, una <em>especificación estándar que define una API implementada en JavaScript para la renderización de gráficos en 3D dentro de cualquier navegador web</em>, el cual permite la combinación con todos los estándares web del navegador, permitiendo el procesamiento de <em>canvas</em> y la combinación con diferentes elementos de HTML. Es un <a href=https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html>motor de rasterización</a>, el cual se ejecuta en la GPU de la computadora del desarrollador y que dibuja líneas, puntos y triángulos basados en el código suministrado. Adicionalmente, las instrucciones dadas son proporcionadas por WebGL en forma de pares de funciones, el <em>sombreador de vértices</em> y el <em>sombreador de fragmentos</em>, los cuales calculan las posiciones de vértices y calculan un color para cada píxel de lo primitivo que se está dibujando, respectivamente.</p><p>Un componente fundamental de WebGL para el presente proyecto, es el de <a href=https://webglfundamentals.org/webgl/lessons/webgl-3d-camera.html>cámara</a>, el cual utiliza propiedades matriciales y la aplicación de la matemática para visualización de imágenes según es requerido por el usuario. Las principales funcionalidades se encuentran en la rotación, movimiento e inversión de la visión del usuario, las cuales tienen múltiples aplicaciones en los campos de geografía y videojuegos, facilitando la inmersión en un campo de tres dimensiones.</p><p>El último de los conceptos importantes, es el de <em>Backroom</em>, siendo este la base del proyecto desarrollado. Los <a href=https://es.wikipedia.org/wiki/The_Backrooms><em>Backrooms</em></a> es una leyenda urbana originada en un tablón de <em>4Chan</em> en el año 2019, el cual inicialmente describe una habitación inquietante de origen y propósitos desconocidos.
<img src=https://i.imgur.com/XxYxOOQ.png alt="Image Backrooms">
El impacto que generó la publicación permitió la extensión de este universo, que ahora describe un mundo alterno que se encuentra compuesto por una gran cantidad de niveles laberínticos y entidades que habitan allí, los cuales interactúan con las personas que accidentalmente caen allí.</p><h2 id=método><strong>Método</strong>
<a class=anchor href=#m%c3%a9todo>#</a></h2><p>Para el desarrollo de este taller se uso principalmete la biblioteca <a href=https://p5js.org/es/>P5.js</a> y sus funciones de objetos 3D, de estos se puede destacar el moviento de cámara, de personaje, creación de ambiente (columnas, paredes, suelo y techo) y colisiones.</p><h3 id=movimiento-de-cámara><strong>Movimiento de cámara</strong>
<a class=anchor href=#movimiento-de-c%c3%a1mara>#</a></h3><p>Para generar la sensación de movimiento en primera persona se desplaza la cámara utilizando las teclas, y se rota la dirección en la que apunta utilizando el movimiento del mouse.
Para lograr esto, se utilizaron las funciones dispuestas en P5 para creación y manipulación de la cámara.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>(){
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>cam</span>.<span style=color:#a6e22e>pan</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>cx</span>));
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>cam</span>.<span style=color:#a6e22e>tilt</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>cy</span>));
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>-=</span>(<span style=color:#a6e22e>mx</span><span style=color:#f92672>*</span><span style=color:#a6e22e>sensitivityX</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>yAng</span><span style=color:#f92672>-=</span>(<span style=color:#a6e22e>my</span><span style=color:#f92672>*</span><span style=color:#a6e22e>sensitivityY</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>cam</span>.<span style=color:#a6e22e>setPosition</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span>,<span style=color:#f92672>-</span><span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span>);
</span></span></code></pre></div><h3 id=corrección-de-cámara>Corrección de cámara
<a class=anchor href=#correcci%c3%b3n-de-c%c3%a1mara>#</a></h3><p>Para mantener la cámara dentro de la ventana cuando se deja de mover el mouse después de un movimiento suave devuelve sus variables D.x, D.y y D.z a 0.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mx</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>mx</span><span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mx</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>mx</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>my</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>my</span><span style=color:#f92672>--</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>my</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>my</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></div><p>Al hacer un movimiento fuerte y prolongado de la cámara giraría sin control, pero se utilizó este limitador para que no suceda.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>//Evitar que la camara gire sin control
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mx</span><span style=color:#f92672>&gt;</span><span style=color:#ae81ff>30</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>mx</span> <span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>30</span>){
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>mx</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        }
</span></span></code></pre></div><h3 id=movimiento-de-personaje><strong>Movimiento de &ldquo;personaje&rdquo;</strong>
<a class=anchor href=#movimiento-de-personaje>#</a></h3><p>Para desplazar la cámara se desplazan las coordenadas de la cámara a una velocidad definida.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>          <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>cx</span><span style=color:#f92672>=</span><span style=color:#a6e22e>mx</span><span style=color:#f92672>*</span><span style=color:#a6e22e>sensitivityX</span>;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>cy</span><span style=color:#f92672>=</span><span style=color:#a6e22e>my</span><span style=color:#f92672>*</span><span style=color:#a6e22e>sensitivityY</span>;
</span></span><span style=display:flex><span>          <span style=color:#75715e>//Moviviento adelante
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>keys</span>[<span style=color:#ae81ff>87</span>] <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>keyIsDown</span>(<span style=color:#ae81ff>16</span>)){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>playerSpeed</span><span style=color:#f92672>=</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>-=</span><span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>-=</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>keys</span>[<span style=color:#ae81ff>87</span>]){
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>-=</span><span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>-=</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;  
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>         <span style=color:#75715e>//Moviviento atras
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>keys</span>[<span style=color:#ae81ff>83</span>]){
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span>))<span style=color:#f92672>*</span>(<span style=color:#a6e22e>playerSpeed</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.7</span>);
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span>))<span style=color:#f92672>*</span>(<span style=color:#a6e22e>playerSpeed</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.7</span>);  
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        <span style=color:#75715e>//Moviviento izq
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>keys</span>[<span style=color:#ae81ff>65</span>]){
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>-=</span><span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#ae81ff>90</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>-=</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#ae81ff>90</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;  
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>          <span style=color:#75715e>//Moviviento derecha
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>keys</span>[<span style=color:#ae81ff>68</span>]){
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#ae81ff>90</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;
</span></span><span style=display:flex><span>              <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+=</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>+</span><span style=color:#ae81ff>90</span>))<span style=color:#f92672>*</span><span style=color:#a6e22e>playerSpeed</span>;  
</span></span><span style=display:flex><span>          }
</span></span></code></pre></div><h3 id=creación-de-ambiente><strong>Creación de ambiente</strong>
<a class=anchor href=#creaci%c3%b3n-de-ambiente>#</a></h3><p>Para facilitar la creación de niveles y mantener la escencia de un BACKROOM tradicional, la creación de varias estructuras es a traves de ciclos FOR, principalmente en las columnas, suelo y el techo.</p><h3 id=columnas>Columnas
<a class=anchor href=#columnas>#</a></h3><p>Las columnas son una estructura para limitar las paredes y a nosotros los desarrolladores nos ayuda a ubicar puntos estrategicos en el nivel para su creación, y ayudar a crear un efecto que confunda al jugador haciendo que las habitasciones sean similares.</p><p>Dentro de la funcion <code>draw()</code> usamos un ciclo FOR anidado para crear las columnas del nivel, todas estan a la misma distacia una de la otra en el plano X y el plano Z.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2.5</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2.5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2.5</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2.5</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>*</span><span style=color:#ae81ff>500</span>,<span style=color:#ae81ff>1</span>,<span style=color:#a6e22e>j</span><span style=color:#f92672>*</span><span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#ae81ff>90</span>));
</span></span><span style=display:flex><span>          <span style=color:#75715e>//fill(228,225,70);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>walls</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>box</span>(<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>120</span>,<span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span></code></pre></div><p><img src=https://i.imgur.com/UzQRwyr.png alt="Imagen columnas"></p><h3 id=paredes>Paredes
<a class=anchor href=#paredes>#</a></h3><p>Las paredes crean los pasillos y habitaciones del juego, se crean con la función <code>pared()</code> que definimos y crea un plano con la función <code>plane()</code> de P5. Además, le agregamos las coordenadas y modificación en los planos X, Y y Z.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>pared</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>,<span style=color:#a6e22e>dx</span>,<span style=color:#a6e22e>dy</span>,<span style=color:#a6e22e>dz</span>,<span style=color:#a6e22e>l</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>y</span>,<span style=color:#a6e22e>z</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>dx</span>));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>dy</span>));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>rotateZ</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#a6e22e>dz</span>));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>walls</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>180</span>,<span style=color:#ae81ff>153</span>,<span style=color:#ae81ff>81</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>plane</span>(<span style=color:#a6e22e>l</span>,<span style=color:#ae81ff>110</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pop</span>();
</span></span></code></pre></div><p>Donde x, y & z son las coordenadas del punto de origen de la pared, dx, dy y dz son los ángulos de inclinación del plano y l es la longitud.</p><p><img src=https://i.imgur.com/Q5VXvHQ.png alt="Imagen paredes"></p><h3 id=techo-y-suelo>Techo y suelo
<a class=anchor href=#techo-y-suelo>#</a></h3><p>Igual que las columnas se crean con un ciclo FOR y ayudan a limitar las habitaciones y pasillos en el juego.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#75715e>//Suelo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>20</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>20</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>20</span>; <span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>20</span>; <span style=color:#a6e22e>l</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>100</span>,<span style=color:#ae81ff>50</span>,<span style=color:#a6e22e>l</span><span style=color:#f92672>*</span><span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#ae81ff>90</span>));
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>floor</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>plane</span>(<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//Piso del piso
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>,<span style=color:#ae81ff>100</span>,<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#ae81ff>90</span>));
</span></span><span style=display:flex><span>        <span style=color:#75715e>//fill(167, 164, 61);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>floor</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>plane</span>(<span style=color:#ae81ff>10000</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>//Techo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>k</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>k</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>l</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>l</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>l</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>k</span><span style=color:#f92672>*</span><span style=color:#ae81ff>500</span>,<span style=color:#f92672>-</span><span style=color:#ae81ff>90</span>,<span style=color:#a6e22e>l</span><span style=color:#f92672>*</span><span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>ang</span>(<span style=color:#ae81ff>90</span>));
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>roof</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>plane</span>(<span style=color:#ae81ff>500</span>);
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span></code></pre></div><h3 id=texturas>Texturas
<a class=anchor href=#texturas>#</a></h3><p>Para añadir las texturas a los techos se utilizó la funcion de P5 texture() y las imágenes de las texturas.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>roof</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;assets/images/techo.png&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>walls</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;assets/images/walls.png&#39;</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>floor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;assets/images/floor.png&#39;</span>);
</span></span><span style=display:flex><span>        }
</span></span></code></pre></div><h3 id=colisiones><strong>Colisiones</strong>
<a class=anchor href=#colisiones>#</a></h3><p>Al no tener una función definida para las colisiones limitaciones de movimiento al llegar a una pared con condicionales para que el jugador no pueda atravesarlas, es la creación de la habitación con sus coordenadas y mover al jugador a una posición atrás para dar la sensación de que no se puede avanzar más.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>230</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>=</span><span style=color:#ae81ff>229</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>230</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>229</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>&lt;=-</span><span style=color:#ae81ff>1230</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1229</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>&lt;=-</span><span style=color:#ae81ff>230</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>&gt;=-</span><span style=color:#ae81ff>260</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>&gt;=-</span><span style=color:#ae81ff>730</span> ){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>229</span>
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>250</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>&gt;=-</span><span style=color:#ae81ff>770</span> ){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>769</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>&lt;-</span><span style=color:#ae81ff>1230</span> ){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>D</span>.<span style=color:#a6e22e>z</span><span style=color:#f92672>=</span><span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>      }
</span></span></code></pre></div><h2 id=resultados><strong>Resultados</strong>
<a class=anchor href=#resultados>#</a></h2><h3 id=aplicación-completa>Aplicación completa.
<a class=anchor href=#aplicaci%c3%b3n-completa>#</a></h3><p>La aplicación completa se puede visualizar en el siguiente link al repositorio donde está el código de la aplicación <a href=https://sansanchezmo.github.io/BACKROOM/>BACKROOM</a> o clonando el repositorio y ejecutándolo de manera local.</p><h2 id=discusión><strong>Discusión</strong>
<a class=anchor href=#discusi%c3%b3n>#</a></h2><p>Teniendo como inspiración o idea fuente el concepto de las leyendas urbanas sobre los “Backrooms”, se discutió acerca de las características qué debe cumplir la aplicación para lograr transmitir un tipo de idea, en este caso, el del terror y suspenso causado por lo extraño del ambiente. Se consultaron fuentes referentes al tema del uso de la rotación y desplazamiento de la cámara y el uso de los colores y de las texturas en los objetos.</p><p>Teniendo en cuenta lo mencionado anteriormente en el <a href=#marco-te%c3%b3rico>marco teórico</a>, también se discutieron las aplicaciones del uso de la cámara en entornos digitales como videojuegos o distintas aplicaciones interactivas. De la misma manera, se conversó acerca de la importancia de aspectos como la disposición e interacciones de la cámara, junto a la ambientación, para simular situaciones o generar emociones en los usuarios y espectadores.</p><h2 id=conclusiones><strong>Conclusiones</strong>
<a class=anchor href=#conclusiones>#</a></h2><p>Se puede concluir que el uso de la cámara, su rotación y desplazamiento, depende del propósito que se quiera lograr. En el caso del presente proyecto el uso de una cámara que se mantenga en primera persona dio mejores resultados para adaptarse al concepto original. Así como se puede considerar la cámara en tercera persona mejor para otros propósitos.</p><p>Además, que la creación de una habitación y/o pasillo es en esencia el uso de traslación y rotaciones, que se adaptaron para crear este ambiente de <em>Backroom</em>, el uso de planos similares y repetitivos gracias a los ciclos FOR dan un toque tétrico que fue siempre el objetivo.</p><p>Se pudo notar, adicionalmente, la importancia de librerías y aplicaciones preexistentes de diferentes funcionalidades, las cuales permiten un aprendizaje más eficiente de las diferentes posibilidades que tiene, en este caso, WebGL y P5.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/9591504075df70cebf17d3b14efa92fffe943a44 title='Last modified by jlizarazoa | October 19, 2022' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>October 19, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#workshop-2-3d-webgl-application><strong>Workshop #2: 3d webgl application</strong></a><ul><li><a href=#introducción><strong>Introducción</strong></a></li><li><a href=#marco-teórico><strong>Marco teórico</strong></a></li><li><a href=#método><strong>Método</strong></a><ul><li><a href=#movimiento-de-cámara><strong>Movimiento de cámara</strong></a></li><li><a href=#corrección-de-cámara>Corrección de cámara</a></li><li><a href=#movimiento-de-personaje><strong>Movimiento de &ldquo;personaje&rdquo;</strong></a></li><li><a href=#creación-de-ambiente><strong>Creación de ambiente</strong></a></li><li><a href=#columnas>Columnas</a></li><li><a href=#paredes>Paredes</a></li><li><a href=#techo-y-suelo>Techo y suelo</a></li><li><a href=#texturas>Texturas</a></li><li><a href=#colisiones><strong>Colisiones</strong></a></li></ul></li><li><a href=#resultados><strong>Resultados</strong></a><ul><li><a href=#aplicación-completa>Aplicación completa.</a></li></ul></li><li><a href=#discusión><strong>Discusión</strong></a></li><li><a href=#conclusiones><strong>Conclusiones</strong></a></li></ul></li></ul></nav></div></aside></main></body></html>